# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2024"
name = "avian3d"
version = "0.6.0-rc.1"
authors = ["Joona Aalto <jondolf.dev@gmail.com>"]
build = false
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "An ECS-driven physics engine for the Bevy game engine"
documentation = "https://docs.rs/avian3d"
readme = "README.md"
keywords = [
    "gamedev",
    "physics",
    "simulation",
    "bevy",
]
categories = [
    "game-development",
    "science",
    "simulation",
]
license = "MIT OR Apache-2.0"
repository = "https://github.com/avianphysics/avian"

[package.metadata.docs.rs]
features = ["diagnostic_ui"]

[features]
3d = []
bevy_diagnostic = []
bevy_picking = ["bevy/bevy_picking"]
bevy_scene = ["bevy/bevy_scene"]
collider-from-mesh = [
    "bevy/bevy_mesh",
    "bevy/bevy_mikktspace",
    "3d",
]
debug-plugin = [
    "bevy/bevy_gizmos",
    "bevy/bevy_render",
]
default = [
    "3d",
    "f32",
    "parry-f32",
    "debug-plugin",
    "xpbd_joints",
    "parallel",
    "collider-from-mesh",
    "bevy_scene",
    "bevy_picking",
]
default-collider = []
diagnostic_ui = [
    "bevy_diagnostic",
    "bevy/bevy_ui",
]
enhanced-determinism = [
    "dep:libm",
    "bevy_math/libm",
    "bevy_heavy/libm",
    "parry3d?/enhanced-determinism",
    "parry3d-f64?/enhanced-determinism",
]
f32 = []
f64 = []
parallel = [
    "bevy/multi_threaded",
    "parry3d?/parallel",
    "parry3d-f64?/parallel",
]
parry-f32 = [
    "f32",
    "dep:parry3d",
    "default-collider",
]
parry-f64 = [
    "f64",
    "dep:parry3d-f64",
    "default-collider",
]
serialize = [
    "dep:serde",
    "bevy/serialize",
    "glam_matrix_extras/serde",
    "bevy_heavy/serialize",
    "bevy_transform_interpolation/serialize",
    "parry3d?/serde-serialize",
    "parry3d-f64?/serde-serialize",
    "smallvec/serde",
    "bitflags/serde",
]
simd = [
    "parry3d?/simd-stable",
    "parry3d-f64?/simd-stable",
]
validate = []
xpbd_joints = []

[lib]
name = "avian3d"
path = "src/lib.rs"
bench = false
required-features = ["3d"]

[[example]]
name = "bvh"
path = "examples/bvh.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "cast_ray_predicate"
path = "examples/cast_ray_predicate.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "chain_3d"
path = "examples/chain_3d.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "collider_constructors"
path = "examples/collider_constructors.rs"
required-features = [
    "3d",
    "default-collider",
    "bevy_scene",
]

[[example]]
name = "conveyor_belt"
path = "examples/conveyor_belt.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "cubes"
path = "examples/cubes.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "custom_broad_phase"
path = "examples/custom_broad_phase.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "custom_constraint"
path = "examples/custom_constraint.rs"
required-features = [
    "3d",
    "default-collider",
    "xpbd_joints",
]

[[example]]
name = "debugdump_3d"
path = "examples/debugdump_3d.rs"
required-features = [
    "3d",
    "debug-plugin",
]

[[example]]
name = "diagnostics"
path = "examples/diagnostics.rs"
required-features = [
    "3d",
    "default-collider",
    "diagnostic_ui",
]

[[example]]
name = "distance_joint_3d"
path = "examples/distance_joint_3d.rs"
required-features = [
    "3d",
    "default-collider",
    "debug-plugin",
]

[[example]]
name = "dynamic_character_3d"
path = "examples/dynamic_character_3d/main.rs"
required-features = [
    "3d",
    "default-collider",
    "bevy_scene",
]

[[example]]
name = "fixed_joint_3d"
path = "examples/fixed_joint_3d.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "gyroscopic_motion"
path = "examples/gyroscopic_motion.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "joint_motors_3d"
path = "examples/joint_motors_3d.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "kinematic_character_3d"
path = "examples/kinematic_character_3d/main.rs"
required-features = [
    "3d",
    "default-collider",
    "bevy_scene",
]

[[example]]
name = "move_and_slide_3d"
path = "examples/move_and_slide_3d.rs"
required-features = [
    "3d",
    "default-collider",
    "collider-from-mesh",
    "bevy_scene",
]

[[example]]
name = "picking"
path = "examples/picking.rs"
required-features = [
    "3d",
    "default-collider",
    "bevy_picking",
]

[[example]]
name = "prismatic_joint_3d"
path = "examples/prismatic_joint_3d.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "revolute_joint_3d"
path = "examples/revolute_joint_3d.rs"
required-features = [
    "3d",
    "default-collider",
]

[[example]]
name = "trimesh_shapes_3d"
path = "examples/trimesh_shapes_3d.rs"
required-features = [
    "3d",
    "default-collider",
    "bevy_scene",
]

[[example]]
name = "voxels_3d"
path = "examples/voxels_3d.rs"
required-features = [
    "3d",
    "default-collider",
]

[[bench]]
name = "velocity_projection"
path = "benches/velocity_projection.rs"
harness = false
required-features = [
    "3d",
    "default-collider",
    "test",
]

[dependencies.approx]
version = "0.5"

[dependencies.avian_derive]
version = "0.2"

[dependencies.bevy]
version = "0.18.0"
features = [
    "std",
    "bevy_log",
]
default-features = false

[dependencies.bevy_heavy]
version = "0.4"

[dependencies.bevy_math]
version = "0.18.0"
features = ["approx"]

[dependencies.bevy_transform_interpolation]
version = "0.4"

[dependencies.bitflags]
version = "2.5.0"

[dependencies.derive_more]
version = "2"

[dependencies.disqualified]
version = "1.0"

[dependencies.glam_matrix_extras]
version = "0.2"
features = ["bevy_reflect"]

[dependencies.itertools]
version = "0.14"

[dependencies.libm]
version = "0.2"
optional = true

[dependencies.obvhs]
version = "0.3"

[dependencies.obvhs_glam]
version = "0.31"
package = "glam"

[dependencies.parry3d]
version = "0.26"
optional = true

[dependencies.parry3d-f64]
version = "0.26"
optional = true

[dependencies.serde]
version = "1"
features = ["derive"]
optional = true

[dependencies.smallvec]
version = "1.15"

[dependencies.thiserror]
version = "2"

[dependencies.thread_local]
version = "1.1"

[dev-dependencies.bevy]
version = "0.18.0"
features = [
    "3d",
    "ui",
    "https",
    "experimental_bevy_feathers",
]

[dev-dependencies.bevy_heavy]
version = "0.4"
features = ["approx"]

[dev-dependencies.bevy_mod_debugdump]
version = "0.15"

[dev-dependencies.criterion]
version = "0.8"
features = ["html_reports"]

[dev-dependencies.rand]
version = "0.9"
